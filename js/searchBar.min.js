let data;fetchEstablishments("./json/data.json");document.addEventListener("DOMContentLoaded",(()=>{searchBarInit()}));function searchBarInit(){const searchBarField=document.getElementById("searchBarField");const searchBarButton=document.getElementById("searchBarButton");searchBarButton.addEventListener("click",(e=>{e.preventDefault();searchEstablisments(searchBarField.value.toLowerCase());window.location="./shop.html"}))}function searchEstablisments(cityName){const index=data.map((u=>u.location.city)).indexOf(cityName);if(index!==-1){localStorage.setItem("cityFilter",`${cityName}`)}else{localStorage.setItem("cityFilter","-1")}}async function fetchEstablishments(path){try{const response=await fetch(path);const jsonData=await response.json();data=jsonData.items}catch(error){console.error(`Error fetching establishments: ${error.message}`)}}